@import "../../index";

// heavily inspired from http://css3.bradshawenterprises.com/cfimg/#cfimg1

#cover {
    div {
        position: relative;
        width: 100%;
        height: 500px;

        $a: 5; // presentation time for one image, in seconds
        $b: 0.3; // duration for cross fading, in seconds
        $n: 3; // number of images

        $t: ($a + $b) * $n; // total animation duration
        img {
            position: absolute;
            vertical-align: top;
            opacity: 1;

            animation: images_fade;
            animation-timing-function: ease-in-out; 
            animation-iteration-count: infinite;
            animation-duration: #{$t}s; 
            animation-direction: normal;
            
            // make animation
            @keyframes images_fade {
                0% {
                    opacity: 1;
                }
                #{100% / $n} {
                    opacity: 0;
                }
                #{($n - 1) / $n * 100%} {
                    opacity: 0;
                }
                100% {
                    opacity: 1;
                }
            }
    
            @for $i from 0 to $n {
                &:nth-of-type(#{$i+1}) {
                    animation-delay: #{($n - $i) * ($a + $b) - $b}s;
                }
            }
        }
    }
}
